<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://chris-clem.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://chris-clem.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-11-18T18:12:27+00:00</updated><id>https://chris-clem.github.io/feed.xml</id><title type="html">blank</title><subtitle>Machine Learning Engineer at Khumbu | AI Drug Discovery | PhD in Biomedical Engineering | CDTM | BEA </subtitle><entry><title type="html">TIL: Python Template Project</title><link href="https://chris-clem.github.io/blog/2025/til-python-python-template-project/" rel="alternate" type="text/html" title="TIL: Python Template Project"/><published>2025-11-14T12:00:00+00:00</published><updated>2025-11-14T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-python-python-template-project</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-python-python-template-project/"><![CDATA[<h2 id="1-initialize-project-as-a-uv-packaged-application">1. Initialize project as a uv packaged application</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uv init <span class="nt">--package</span> project-name
</code></pre></div></div> <h2 id="2-create-venv-by-running-it">2. Create venv by running it</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>project-name
uv run project-name
</code></pre></div></div> <h2 id="3-add-dependencies-to-pyprojecttoml-and-install-them">3. Add dependencies to <code class="language-plaintext highlighter-rouge">pyproject.toml</code> and install them</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uv add fire joblib loguru tqdm
</code></pre></div></div> <h2 id="4-add-pre-commit-hooks">4. Add pre-commit hooks</h2> <p>Create a <code class="language-plaintext highlighter-rouge">.pre-commit-config.yaml</code> file in the root of your project with the following content:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">repos</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">repo</span><span class="pi">:</span> <span class="s">https://github.com/pre-commit/pre-commit-hooks</span>
    <span class="na">rev</span><span class="pi">:</span> <span class="s">v6.0.0</span>
    <span class="na">hooks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">check-added-large-files</span>
        <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">--maxkb=1000'</span><span class="pi">]</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">check-ast</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">check-builtin-literals</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">check-json</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">check-merge-conflict</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">check-toml</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">check-yaml</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">detect-private-key</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">end-of-file-fixer</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">mixed-line-ending</span>
        <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">--fix=lf'</span><span class="pi">]</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">pretty-format-json</span>
        <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">--autofix'</span><span class="pi">]</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">trailing-whitespace</span>
  <span class="pi">-</span> <span class="na">repo</span><span class="pi">:</span> <span class="s">https://github.com/astral-sh/ruff-pre-commit</span>
    <span class="na">rev</span><span class="pi">:</span> <span class="s">v0.14.5</span>
    <span class="na">hooks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">ruff-check</span>
        <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">--fix</span><span class="pi">]</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">ruff-format</span>

</code></pre></div></div> <p>Install them by running:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uv add <span class="nt">--dev</span> pre-commit
uv run pre-commit <span class="nb">install</span>
</code></pre></div></div> <p>Run them on all files:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>
uv run pre-commit run <span class="nt">--all-files</span>
git commit <span class="nt">-m</span> <span class="s2">"Initial commit"</span>
</code></pre></div></div> <p>Add pre-commit GitHub Action by creating a file <code class="language-plaintext highlighter-rouge">.github/workflows/pre-commit.yml</code> with the following content:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">pre-commit</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">pull_request</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">main</span><span class="pi">]</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">pre-commit</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v5</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">pre-commit/action@v3.0.1</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="python"/><summary type="html"><![CDATA[A quick tip about python]]></summary></entry><entry><title type="html">TIL: Request GCP quota increase</title><link href="https://chris-clem.github.io/blog/2025/til-gcp-request-gcp-quota-increase/" rel="alternate" type="text/html" title="TIL: Request GCP quota increase"/><published>2025-11-13T12:00:00+00:00</published><updated>2025-11-13T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-gcp-request-gcp-quota-increase</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-gcp-request-gcp-quota-increase/"><![CDATA[<p>Taken from https://docs.skypilot.co/en/latest/cloud-setup/quota.html#gcp</p> <ol> <li> <p>In the Google Cloud Console, go to the <a href="https://console.cloud.google.com/iam-admin/quotas/">Quota page</a>.</p> </li> <li> <p>Click <em>Filter</em> and select <code class="language-plaintext highlighter-rouge">Service: Compute Engine API</code>.</p> </li> <li> <p>For H100 GPUs: choose <code class="language-plaintext highlighter-rouge">metric: GPUS_PER_GPU_FAMILY</code> and select dimension <code class="language-plaintext highlighter-rouge">gpu_family: NVIDIA_H100</code>.</p> </li> <li> <p>For all other GPUs: choose <code class="language-plaintext highlighter-rouge">Limit Name: instance_name</code> (e.g., <code class="language-plaintext highlighter-rouge">NVIDIA-V100-GPUS-per-project-region</code>). You may check the <a href="https://cloud.google.com/compute/quotas#gpu_quota">compute GPU list</a>.</p> </li> <li> <p>Select the checkbox of the region whose quota you want to change.</p> </li> <li> <p>Click <em>Edit Quotas</em> and fill out the new limit.</p> </li> <li> <p>Click <em>Submit Request</em>.</p> </li> </ol>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="gcp"/><summary type="html"><![CDATA[A quick tip about gcp]]></summary></entry><entry><title type="html">TIL: Multi-node GPU training with SkyPilot and PyTorch Lightning</title><link href="https://chris-clem.github.io/blog/2025/til-skypilot-multi-node-gpu-training/" rel="alternate" type="text/html" title="TIL: Multi-node GPU training with SkyPilot and PyTorch Lightning"/><published>2025-11-13T12:00:00+00:00</published><updated>2025-11-13T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-skypilot-multi-node-gpu-training</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-skypilot-multi-node-gpu-training/"><![CDATA[<p>References:</p> <ul> <li>https://docs.skypilot.co/en/latest/examples/training/distributed-pytorch.html#using-normal-torchrun</li> <li>https://lightning.ai/docs/pytorch/stable/common/trainer.html#</li> </ul> <h2 id="1-configure-the-pytorch-lightning-trainer-for-multi-node-training">1. Configure the PyTorch Lightning Trainer for multi-node training</h2> <p>E.g. on 8 nodes with 8 GPUs each (64 GPUs total):</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">trainer</span> <span class="o">=</span> <span class="nc">Trainer</span><span class="p">(</span><span class="n">accelerator</span><span class="o">=</span><span class="sh">"</span><span class="s">gpu</span><span class="sh">"</span><span class="p">,</span> <span class="n">devices</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">num_nodes</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="sh">"</span><span class="s">ddp</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <h2 id="2-launch-skypilot-cluster-with-multiple-gpu-nodes">2. Launch SkyPilot cluster with multiple GPU nodes</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sky launch <span class="nt">-c</span> train train.yaml
</code></pre></div></div> <p>SkyPilot config file (<code class="language-plaintext highlighter-rouge">train.yaml</code>):</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">resources</span><span class="pi">:</span>
    <span class="na">accelerators</span><span class="pi">:</span> <span class="s">H100:8</span>
    <span class="na">disks</span><span class="pi">:</span> <span class="s">1TB</span>

<span class="na">num_nodes</span><span class="pi">:</span> <span class="m">8</span>

<span class="na">setup</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s"># Download data</span>
    <span class="s"># Install dependencies</span>

<span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">MASTER_ADDR=$(echo "$SKYPILOT_NODE_IPS" | head -n1)</span>
    <span class="s">echo "Starting distributed training, head node: $MASTER_ADDR"</span>

    <span class="s"># Explicit check for torchrun</span>
    <span class="s">if ! command -v torchrun &gt;/dev/null 2&gt;&amp;1; then</span>
        <span class="s">echo "ERROR: torchrun command not found" &gt;&amp;2</span>
        <span class="s">exit 1</span>
    <span class="s">fi</span>

    <span class="s">torchrun \</span>
    <span class="s">--nnodes=$SKYPILOT_NUM_NODES \</span>
    <span class="s">--nproc_per_node=$SKYPILOT_NUM_GPUS_PER_NODE \</span>
    <span class="s">--master_addr=$MASTER_ADDR \</span>
    <span class="s">--master_port=8008 \</span>
    <span class="s">--node_rank=${SKYPILOT_NODE_RANK} \</span>
    <span class="s">train.py</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="skypilot"/><summary type="html"><![CDATA[A quick tip about skypilot]]></summary></entry><entry><title type="html">TIL: Useful Datamol functions</title><link href="https://chris-clem.github.io/blog/2025/til-datamol-useful-datamol-functions/" rel="alternate" type="text/html" title="TIL: Useful Datamol functions"/><published>2025-11-12T12:00:00+00:00</published><updated>2025-11-12T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-datamol-useful-datamol-functions</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-datamol-useful-datamol-functions/"><![CDATA[<p>https://docs.datamol.io/stable/index.html</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">datamol</span> <span class="k">as</span> <span class="n">dm</span>
</code></pre></div></div> <h2 id="cluster-a-set-of-molecules-using-the-butina-clustering-algorithm-and-a-given-threshold">Cluster a set of molecules using the butina clustering algorithm and a given threshold</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">cluster</span><span class="p">.</span><span class="nf">cluster_mols</span><span class="p">(</span><span class="n">mols</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">feature_fn</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div> <h2 id="compute-conformers-of-a-molecule">Compute conformers of a molecule</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">conformers</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="n">mol</span><span class="p">,</span> <span class="p">...)</span>
</code></pre></div></div> <h2 id="convert-a-list-of-mols-to-a-dataframe-using-each-mol-properties-as-a-column">Convert a list of mols to a dataframe using each mol properties as a column</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">convert</span><span class="p">.</span><span class="nf">to_df</span><span class="p">(</span><span class="n">mols</span><span class="p">)</span>
</code></pre></div></div> <h2 id="compute-a-list-of-opiniated-molecular-properties">Compute a list of opiniated molecular properties</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">descriptors</span><span class="p">.</span><span class="nf">compute_many_descriptors</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span>
</code></pre></div></div> <h2 id="compute-the-molecular-fingerprint-given-a-molecule-or-a-smiles">Compute the molecular fingerprint given a molecule or a SMILES</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">fp</span><span class="p">.</span><span class="nf">to_fp</span><span class="p">(</span><span class="n">mol</span><span class="p">,</span> <span class="n">as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">fp_type</span><span class="o">=</span><span class="sh">'</span><span class="s">ecfp</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <h2 id="generate-all-possible-fragmentation-of-a-molecule">Generate all possible fragmentation of a molecule</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">fragment</span><span class="p">.</span><span class="nf">frag</span><span class="p">(</span><span class="n">mol</span><span class="p">,</span> <span class="n">remove_parent</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sanitize</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">fix</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div> <h2 id="read-an-sdf-file">Read an SDF file</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="nf">read_sdf</span><span class="p">(</span><span class="n">urlpath</span><span class="p">)</span>
</code></pre></div></div> <h2 id="write-molecules-to-a-file">Write molecules to a file</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="nf">to_sdf</span><span class="p">(</span><span class="n">mols</span><span class="p">,</span> <span class="n">urlpath</span><span class="p">)</span>
</code></pre></div></div> <h2 id="context-manager-to-disable-rdkit-logs">Context manager to disable RDKit logs</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="n">dm</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="nf">without_rdkit_log</span><span class="p">():</span>
    <span class="n">mol</span> <span class="o">=</span> <span class="n">dm</span><span class="p">.</span><span class="nf">to_mol</span><span class="p">(</span><span class="sh">"</span><span class="s">CCCCO</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># potential RDKit logs won't show
</span></code></pre></div></div> <h2 id="disable-all-rdkit-logs">Disable all rdkit logs</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="nf">disable_rdkit_log</span><span class="p">()</span>
</code></pre></div></div> <h2 id="standardize-and-sanitize-a-molecule">Standardize and sanitize a molecule</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mol</span> <span class="o">=</span> <span class="n">dm</span><span class="p">.</span><span class="n">mol</span><span class="p">.</span><span class="nf">to_mol</span><span class="p">(</span><span class="sh">"</span><span class="s">O=C(C)Oc1ccccc1C(=O)O</span><span class="sh">"</span><span class="p">)</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">dm</span><span class="p">.</span><span class="n">mol</span><span class="p">.</span><span class="nf">fix_mol</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">dm</span><span class="p">.</span><span class="n">mol</span><span class="p">.</span><span class="nf">sanitize_mol</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">dm</span><span class="p">.</span><span class="n">mol</span><span class="p">.</span><span class="nf">standardize_mol</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span>
</code></pre></div></div> <h2 id="generate-an-image-out-of-a-molecule-or-a-list-of-molecules">Generate an image out of a molecule or a list of molecules</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dm</span><span class="p">.</span><span class="n">viz</span><span class="p">.</span><span class="nf">to_image</span><span class="p">(</span><span class="n">mols</span><span class="p">,</span> <span class="n">legends</span><span class="p">)</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="datamol"/><summary type="html"><![CDATA[A quick tip about datamol]]></summary></entry><entry><title type="html">TIL: Template data exploration Jupyter notebook</title><link href="https://chris-clem.github.io/blog/2025/til-python-explore-data-jupyter-notebook/" rel="alternate" type="text/html" title="TIL: Template data exploration Jupyter notebook"/><published>2025-11-11T12:00:00+00:00</published><updated>2025-11-11T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-python-explore-data-jupyter-notebook</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-python-explore-data-jupyter-notebook/"><![CDATA[<p>Template Jupyter notebook for exploring data.</p> <p>I have added it as a Raycast snippet <code class="language-plaintext highlighter-rouge">@notebook</code></p> <p>In VSCode/ Windsurf/ Cursor, create a new file called <code class="language-plaintext highlighter-rouge">explore_data.txt</code> and copy the content below or use the Raycast snippet, then rename it to <code class="language-plaintext highlighter-rouge">explore_data.ipynb</code>.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"cells"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cell_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markdown"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"# Explore Data"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cell_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markdown"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"## Imports"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cell_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execution_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"from pathlib import Path</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"import matplotlib.pyplot as plt</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"import numpy as np</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"import pandas as pd</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"import seaborn as sns</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sns.set_style('whitegrid')</span><span class="se">\n</span><span class="s2">"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cell_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markdown"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"## Paths &amp; Settings"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cell_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execution_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"DATA_DIR = Path.home() / </span><span class="se">\"</span><span class="s2">data</span><span class="se">\"</span><span class="s2">"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cell_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markdown"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"## Load Data"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cell_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execution_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"df = pd.read_csv(DATA_DIR / </span><span class="se">\"</span><span class="s2">data.csv</span><span class="se">\"</span><span class="s2">)</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"df"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"language_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="python"/><summary type="html"><![CDATA[A quick tip about python]]></summary></entry><entry><title type="html">TIL: Template data processing script with pathlib, fire, joblib, loguru, and tqdm</title><link href="https://chris-clem.github.io/blog/2025/til-python-process-data-script/" rel="alternate" type="text/html" title="TIL: Template data processing script with pathlib, fire, joblib, loguru, and tqdm"/><published>2025-11-11T12:00:00+00:00</published><updated>2025-11-11T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-python-process-data-script</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-python-process-data-script/"><![CDATA[<p>Template script for processing data with packages I am using most often.</p> <p>I have added it as a Raycast snippet <code class="language-plaintext highlighter-rouge">@script</code></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="n">fire</span>
<span class="kn">from</span> <span class="n">joblib</span> <span class="kn">import</span> <span class="n">Parallel</span><span class="p">,</span> <span class="n">delayed</span>
<span class="kn">from</span> <span class="n">loguru</span> <span class="kn">import</span> <span class="n">logger</span>
<span class="kn">from</span> <span class="n">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>

<span class="c1"># Setup logger to work with tqdm
</span><span class="n">logger</span><span class="p">.</span><span class="nf">remove</span><span class="p">()</span>
<span class="n">logger</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="n">tqdm</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="sh">""</span><span class="p">),</span> <span class="n">colorize</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sh">"""</span><span class="s">Process data.</span><span class="sh">"""</span>
    <span class="c1"># Setup
</span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">.</span><span class="nf">home</span><span class="p">()</span> <span class="o">/</span> <span class="sh">"</span><span class="s">data</span><span class="sh">"</span>
    <span class="n">sample_paths</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">data_dir</span><span class="p">.</span><span class="nf">iterdir</span><span class="p">())</span>

    <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Found </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">sample_paths</span><span class="p">)</span><span class="si">}</span><span class="s"> samples to process</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># Parallel processing with joblib
</span>    <span class="n">results</span> <span class="o">=</span> <span class="nc">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="n">n_jobs</span><span class="p">)(</span>
        <span class="nf">delayed</span><span class="p">(</span><span class="n">process</span><span class="p">)(</span><span class="n">sample_path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">sample_path</span> <span class="ow">in</span> <span class="nf">tqdm</span><span class="p">(</span><span class="n">sample_paths</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="sh">"</span><span class="s">Processing samples</span><span class="sh">"</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">result</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span> <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">]</span>

    <span class="n">logger</span><span class="p">.</span><span class="nf">success</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Processed </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s"> samples</span><span class="sh">"</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">process</span><span class="p">(</span>
    <span class="n">sample_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sh">"""</span><span class="s">Process a sample.</span><span class="sh">"""</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">debug</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Processing </span><span class="si">{</span><span class="n">sample_path</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">raise</span> <span class="nb">NotImplementedError</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">fire</span><span class="p">.</span><span class="nc">Fire</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>

</code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="python"/><summary type="html"><![CDATA[A quick tip about python]]></summary></entry><entry><title type="html">TIL: Manage GCP Buckets</title><link href="https://chris-clem.github.io/blog/2025/til-gcp-manage-gcp-buckets/" rel="alternate" type="text/html" title="TIL: Manage GCP Buckets"/><published>2025-11-10T12:00:00+00:00</published><updated>2025-11-10T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-gcp-manage-gcp-buckets</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-gcp-manage-gcp-buckets/"><![CDATA[<p><a href="https://docs.cloud.google.com/sdk/docs/install-sdk">https://docs.cloud.google.com/sdk/docs/install-sdk</a></p> <h2 id="create-bucket">Create bucket</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcloud storage buckets create gs://$BUCKET_NAME
</code></pre></div></div> <h2 id="transfer-files-to-bucket">Transfer files to bucket</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcloud storage rsync -r ./local_dir gs://$BUCKET_NAME
</code></pre></div></div> <h2 id="list-buckets">List buckets</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcloud storage ls
</code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="gcp"/><summary type="html"><![CDATA[A quick tip about gcp]]></summary></entry><entry><title type="html">TIL: Fix missing terminal error message</title><link href="https://chris-clem.github.io/blog/2025/til-ghostty-fix-missing-terminal/" rel="alternate" type="text/html" title="TIL: Fix missing terminal error message"/><published>2025-11-10T12:00:00+00:00</published><updated>2025-11-10T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-ghostty-fix-missing-terminal</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-ghostty-fix-missing-terminal/"><![CDATA[<p>https://ghostty.org/docs/help/terminfo</p> <h2 id="copy-ghostty-terminfo-to-remote-server">Copy Ghostty terminfo to remote server</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>infocmp -x xterm-ghostty | ssh YOUR-SERVER -- tic -x -
</code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="ghostty"/><summary type="html"><![CDATA[A quick tip about ghostty]]></summary></entry><entry><title type="html">TIL: Useful SkyPilot Commands</title><link href="https://chris-clem.github.io/blog/2025/til-skypilot-useful-skypilot-commands/" rel="alternate" type="text/html" title="TIL: Useful SkyPilot Commands"/><published>2025-11-10T12:00:00+00:00</published><updated>2025-11-10T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-skypilot-useful-skypilot-commands</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-skypilot-useful-skypilot-commands/"><![CDATA[<p><a href="https://docs.skypilot.co/en/latest/overview.html">https://docs.skypilot.co/en/latest/overview.html</a></p> <h2 id="installation">Installation</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uv tool install --with pip "skypilot[gcp]"
</code></pre></div></div> <h2 id="common-commands">Common commands</h2> <h3 id="check-to-verify-cloud-access">Check to verify cloud access</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sky check gcp
</code></pre></div></div> <h3 id="status-to-see-all-clusters">Status to see all clusters</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sky status
</code></pre></div></div> <h3 id="dashboard-for-a-nicer-ui">Dashboard for a nicer UI</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sky dashboard
</code></pre></div></div> <h2 id="development-cluster">Development Cluster</h2> <h3 id="launch-cluster-with-l4-gpu-and-5-hours-autostop">Launch cluster with L4 GPU and 5 hours autostop</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sky launch -c dev --gpus L4 --workdir . -i 300
</code></pre></div></div> <h3 id="ssh-into-cluster">SSH into cluster</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh dev
</code></pre></div></div> <h3 id="stop-terminate-a-cluster">Stop/ Terminate a cluster</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sky [stop/down] dev # down to terminate
</code></pre></div></div>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="skypilot"/><summary type="html"><![CDATA[A quick tip about skypilot]]></summary></entry><entry><title type="html">TIL: Use Raycast Quicklinks to open RCSB PDB 3D Viewer</title><link href="https://chris-clem.github.io/blog/2025/til-raycast-rcsb-quicklinks/" rel="alternate" type="text/html" title="TIL: Use Raycast Quicklinks to open RCSB PDB 3D Viewer"/><published>2025-11-07T12:00:00+00:00</published><updated>2025-11-07T12:00:00+00:00</updated><id>https://chris-clem.github.io/blog/2025/til-raycast-rcsb-quicklinks</id><content type="html" xml:base="https://chris-clem.github.io/blog/2025/til-raycast-rcsb-quicklinks/"><![CDATA[<ol> <li>Create a <a href="https://www.raycast.com/core-features/quicklinks">Raycast Quicklink</a> with the following content: <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Name: RCSB Structure
Link: https://www2.rcsb.org/3d-view/{clipboard}
</code></pre></div> </div> </li> </ol> <p><img src="https://raw.githubusercontent.com/chris-clem/til/main/raycast/rcsb-quicklink-pngs/rcsb-quicklink.png" alt="rcsb-quicklink"/></p> <ol> <li>With it, copy a PDB ID, e.g. from the terminal, and use the Quicklink to open the RCSB PDB 3D Viewer.</li> </ol> <p><img src="https://raw.githubusercontent.com/chris-clem/til/main/raycast/rcsb-quicklink-pngs/copy-pdb-id.png" alt="copy-pdb-id"/></p> <ol> <li>Open Raycast, search for the Quicklink “RCSB Structure”, and hit enter.</li> </ol> <p><img src="https://raw.githubusercontent.com/chris-clem/til/main/raycast/rcsb-quicklink-pngs/open-quicklink.png" alt="open-quicklink"/></p> <ol> <li> <p>https://www2.rcsb.org/3d-view/2GEU opens in your browser of choice.</p> </li> <li> <p>Repeat with “https://www.rcsb.org/ligand/{clipboard}” for RCSB Ligand Viewer Quicklink where a CCD code is copied to the clipboard.</p> </li> </ol>]]></content><author><name></name></author><category term="til"/><category term="til"/><category term="raycast"/><summary type="html"><![CDATA[A quick tip about raycast]]></summary></entry></feed>